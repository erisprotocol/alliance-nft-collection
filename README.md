# Alliance NFT Collection

## Background Info

The AllianceDAO NFT is an NFT project launched by TFL to reward participants of the [Game of Alliance](https://docs.alliance.terra.money/game-of-alliance/overview/) (GOA). The GoA was an incentivized testnet designed to battle-test Terra’s Alliance module before its mainnet launch, and it ran from February 9th to March 2nd, 2023. During the game, users could stake on different Alliance chains and move their tokens around to optimize rewards as the parameters of each chain changed. Player’s final scores were calculated based on the total staking rewards they earned plus the points they earned from completing different missions. For more information on the Alliance module and how it works, visit the [Alliance website](https://github.com/terra-money/alliance).

Anyone who participated in the GoA and staked at least one asset will be eligible to receive an AllianceDAO NFT. To reward participants with higher scores, the NFTs will vary in rarity depending on a user’s GoA score. To determine each participant’s ranking, scores were tallied during the game, and final scores were calculated by multiplying a user’s mission score by the amount of staking rewards claimed. Higher-scoring players will receive an NFT with a corresponding rarity score. Users can stake their NFTs on Enterprise DAO to participate in governance and collectively determine future plans for the AllianceDAO. There will be an open claim period for the NFT where GoA participants can connect an eligible wallet to the claim site and mint their NFT.

## Claim period

The claim period starts on December 12, 2023 and will last for one month. During the claim period, only eligible wallets will be able to claim an NFT. 

Any user who created a wallet for the Game of Alliance and had at least one staking transaction while playing will be eligible to claim an AllianceDAO NFT. In order to be Sybil resistant and make the claim process as fair as possible, the claim is limited to 1 NFT per IP address that participated. If you participated with multiple wallets using the same IP address, only the wallet address with the highest GoA score will be eligible for the claim. Final scores for users with multiple wallets were calculated by adding all the points earned by each wallet. NFT rarity will be determined by your final score — higher scores will claim more rare NFTs.

## Collection Spec

This NFT contract will airdrop a total of 10,000 NFTs using the [CW721 with Metadata Onchain](https://github.com/CosmWasm/cw-nfts/tree/main/contracts/cw721-metadata-onchain). 

> If an IP has multiple addresses associated with it, it will sum the points from actions and assign them to the wallet with highest score associated to that IP.

Metadata object will have the following properties:

- `image`: AllianceDAO NFT IPFS image url 
- `attributes` represents the coordinates on the bigger Alliance mural image.
    - **planet**: nft background location.
    - **inhabitant**: type of character
    - **object**: object that the inhabitant is holding. There are 40 objects. 
    - **rarity**: rarity score based on object rarity (1-40), generated by the layering program.
    - **light**: a color layer.
    - **weather**: a weather overlay. 

> The following two properties will be appended to the attributes but they will be stored in a different storage.
> 
> - **broken**: when the nft is broken this property will be send as true,
> - **rewards**: the amount of uluna accumulated by the NFT (e.g. 1000000uluna)
- Example of the NFT properties
    
    ```
    {
      "name": "AllianceNFT # 1",
      "token_uri": null,
      "extension": {
        "image": "https://ipfs.io/ipfs/....",
        "image_data": "https://ipfs.io/ipfs/....", 
        "external_url": null,
        "description": "Received for participating on Game Of Alliance",
        "name": "AllianceNFT # 1",
        "attributes": [{
    			"display_type" : null,
    			"trait_type": "planet",
    			"value": "fire"
    		},{
    			"display_type" : null,
    			"trait_type": "inhabitant",
    			"value": "water"
    		},{
    			"display_type" : null,
    			"trait_type": "object",
    			"value": "sword"
    		},{
    			"display_type" : null,
    			"trait_type": "rarity",
    			"value": 11
    		}],
        "background_color": null,
        "animation_url": null,
        "youtube_url": null
      }
    }
    ```
## NFT economics

The NFT collection will have an amount of tokens staked in the Alliance module to redirect a percentage of Luna inflation to the NFT collection. Each NFT will receive rewards only if it is not broken. The only way to collect the accumulated rewards from the NFT is by “breaking” it, and it can be broken once only by the NFT owner. When an NFT is broken the rewards of the unbroken NFTS will be boosted because there will be 1 less NFT that gets rewards. When a user transfers the NFT, the accumulated rewards are tied to the NFT.

Rewards redirection: 

- each NFT can claim 1/x of the rewards in the contract account.
- x= # of live NFTs that are staked (at genesis, x= 10,000).
- every time an NFT is broken (and rewards are claimed) X is smaller (never smaller than 0).
